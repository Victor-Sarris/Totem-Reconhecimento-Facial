üöÄ Configura√ß√£o de Inicializa√ß√£o Autom√°tica (Autostart)
Para que o sistema de reconhecimento facial inicie automaticamente na tela HDMI assim que o Labrador ligar, foi necess√°rio configurar tr√™s componentes: um script de shell, uma tarefa no crontab (root) para permiss√µes de v√≠deo e uma entrada de desktop.

### 1. Script de Inicializa√ß√£o (iniciar.sh)
Este script prepara o ambiente, define a tela de exibi√ß√£o e executa o Python.

Local: /home/caninos/iniciar.sh

```python

#!/bin/bash

# Redireciona a sa√≠da para um arquivo de log para depura√ß√£o
exec > /home/caninos/log_erro.txt 2>&1

echo "--- INICIO DO BOOT: $(date) ---"

# 1. Aguarda o carregamento da interface gr√°fica e do script do Crontab
sleep 25

# 2. Define a tela HDMI como alvo
export DISPLAY=:0

# 3. Define o arquivo de autoridade X11 (Copiado pelo Crontab)
export XAUTHORITY=/home/caninos/.Xauthority

# 4. Libera permiss√µes gr√°ficas adicionais
xhost +

# 5. Navega at√© a pasta do projeto e executa
echo "[INFO] Iniciando o Python..."
cd /home/caninos/Desktop/Reconhecimento-Facial-main
source venv/bin/activate

# O par√¢metro -u for√ßa o log em tempo real (unbuffered)
python3 -u 03_reconhecer.py

```

Nota: Permiss√£o necess√°ria: √â preciso tornar o script execut√°vel: chmod +x /home/caninos/iniciar.sh

Para fazer a edi√ß√£o do iniciar.sh:

```python
nano /home/caninos/iniciar.sh
```
Procure a linha que tem cd e atualize para a nova pasta correta.

Para salvar, aperte Ctrl + O, Enter, e Ctrl + X para sair.

### 2. Corre√ß√£o de Permiss√µes de V√≠deo (Crontab)
Como o sistema roda o Xorg/LightDM como root, o usu√°rio comum n√£o tem permiss√£o para ler o arquivo de autoridade original. Usamos o crontab do root para criar uma c√≥pia acess√≠vel desse arquivo a cada reinicializa√ß√£o.

Comando: sudo crontab -e Linha adicionada:

```python

@reboot sleep 20 && cp /var/run/lightdm/root/:0 /home/caninos/.Xauthority && chown caninos:caninos /home/caninos/.Xauthority

```

O que isso faz:

Espera 20 segundos ap√≥s o boot.

Copia a "chave" da tela (:0) da pasta restrita do sistema para a pasta do usu√°rio.

Muda o dono do arquivo para o usu√°rio caninos, permitindo que o script o leia.

### 3. Atalho de Inicializa√ß√£o (.desktop)
Diz ao ambiente gr√°fico para rodar o script iniciar.sh ap√≥s o login.

Arquivo: /home/caninos/.config/autostart/reconhecimento.desktop

```python

[Desktop Entry]
Type=Application
Name=Reconhecimento Facial
Comment=Inicia o sistema de acesso automaticamente
Exec=/home/caninos/iniciar.sh
Terminal=true
Hidden=false
X-GNOME-Autostart-enabled=true

```
Para editar o arquivo .desktop:

```python
nano /home/caninos/.config/autostart/reconhecimento.desktop
```

Procure a linha que come√ßa com Exec=. Ela deve apontar para onde est√° o seu script de inicializa√ß√£o (o iniciar.sh). Exemplo:

```python
Exec=/home/caninos/Script/iniciar.sh
```

Para salvar, aperte Ctrl + O, Enter, e Ctrl + X para sair.

# 4. Monitoramento de Arquivo .Log

1. Ver o hist√≥rico completo (Est√°tico)
Este comando exibe todo o conte√∫do do arquivo de log de uma s√≥ vez. √ötil para ler o que aconteceu desde o momento que o Labrador ligou.

```Bash
cat /home/caninos/log_erro.txt
```
2. Monitorar em Tempo Real (Din√¢mico)
Este √© o comando mais usado durante testes. Ele mostra as novas linhas assim que elas aparecem (como o status da conex√£o ou o reconhecimento facial acontecendo ao vivo).

```Bash
tail -f /home/caninos/log_erro.txt
```
(Para sair deste modo e voltar ao terminal, pressione Ctrl + C).

# üìÇ Estrutura de Pastas Esperada
O sistema assume que o projeto est√° localizado em: /home/caninos/Desktop/Reconhecimento-Facial

<!-- Estrutura de pastas e arquivos:

Reconhecimento-Facial/
‚îú‚îÄ‚îÄ Documentacao/
‚îÇ   ‚îî‚îÄ‚îÄ Arquivos de apoio, diagramas e anota√ß√µes do projeto
‚îÇ
‚îú‚îÄ‚îÄ Script/
‚îÇ   ‚îú‚îÄ‚îÄ dataset/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Imagens capturadas para treinamento facial
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ espcam/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ C√≥digo da ESP32-CAM
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ venv/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Ambiente virtual Python do projeto
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ 01_capturar_rostos.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Captura de rostos e gera√ß√£o do dataset
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ 02_treinar.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Treinamento do modelo de reconhecimento facial
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ 03_reconhecer.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Reconhecimento facial em tempo real
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ cadastrar_remoto.py
‚îÇ       ‚îî‚îÄ‚îÄ Cadastro remoto de usu√°rios/rostos
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Depend√™ncias Python do projeto
‚îÇ
‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îî‚îÄ‚îÄ Documenta√ß√£o principal do reposit√≥rio
‚îÇ
‚îú‚îÄ‚îÄ LICENSE
‚îÇ   ‚îî‚îÄ‚îÄ Licen√ßa do projeto
‚îÇ
‚îî‚îÄ‚îÄ .gitignore
    ‚îî‚îÄ‚îÄ Arquivos e pastas ignorados pelo Git -->
